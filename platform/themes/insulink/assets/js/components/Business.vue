<template>
  <div>
    <section class="py-6">
      <div class="container">
        <div class="row">
          <div class="col-sm-8">
            <p class="mb-4 text-gray-500">
              BUSINESS INSURANCE &nbsp;refers broadly to a class of insurance
              coverage intended for purchase by businesses rather than
              individuals. Business insurance coverage protects businesses from
              losses due to events that may occur during the normal course of
              business. There are many types of insurance for businesses
              including coverage for property damage, legal liability, and
              employee-related risks and liabilities.
            </p>
            <p><strong>Why do you need this?</strong></p>
            <ol class="list-decimal">
              <li>
                To protect your customers; public liability, and product
                liability.&nbsp;
              </li>
              <li>Protect management against lawsuits.&nbsp;</li>
              <li>Protection against natural disasters.&nbsp;</li>
              <li>
                Protect the employees. Protects you from financial loss and
                cyber risks.&nbsp;
              </li>
              <li>Requirement in some contracts like loan agreements.&nbsp;</li>
              <li>Helps with employee recruitment and retention&nbsp;</li>
              <li>Builds credibility.</li>
            </ol>
            <p>
              Every business is unique. This means every business is given
              unique consideration during the underwriting process. Our team of
              experts is ready to help you get a tailored umbrella policy for
              your company, based on your insurable interests.&nbsp;
            </p>
            <p>
              Business insurance policy protects your employees, your assets,
              your operations as well as any management exposure. We customize
              an umbrella policy that best suits your needs.
            </p>
          </div>
          <div class="col-sm-4">
            <h4 class="text-blue">Protecting Assets and Operations.</h4>
            <p class="lead mb-3">Primary covers:</p>
            <ul class="list-disc pl-0 mb-3">
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Property Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Public Liability Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Business Interruption Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Employers' Liability Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Workers Compensation (WIBA)
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                All Risks Insurance
              </li>
            </ul>
            <p class="lead mb-3">Optional covers:</p>
            <ul class="list-disc pl-0">
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Health Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Product Liability Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Fidelity Guarantee
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Machinery Breakdown
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Goods-in-Transit
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Political Risks & Violence
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Travel Insurance
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Group Personal Accident
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Group Last Expense
              </li>
              <li class="mb-2 block">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6 text-orange inline-flex mr-2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12.75l6 6 9-13.5"
                  />
                </svg>
                Cyber Liability Insurance
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <section id="travel-form" class="bg-gray-200">
      <div class="container py-12">
        <div class="row justify-content-center">
          <div class="col-sm-8">
            <form @submit.prevent="submitForm" novalidate>
              <!-- Name Input -->
              <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input
                  type="text"
                  v-model="formData.name"
                  class="form-control"
                  id="name"
                  required
                />
              </div>

              <!-- Email Input -->
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  v-model="formData.email"
                  class="form-control"
                  id="email"
                  required
                />
              </div>

              <!-- Phone Input -->
              <div class="mb-3">
                <label for="phone" class="form-label">Phone</label>
                <input
                  type="tel"
                  v-model="formData.phone"
                  class="form-control"
                  id="phone"
                  required
                />
              </div>

              <!-- Contact Preference Checkbox -->
              <div class="mb-3">
                <label class="form-label"
                  >How do you prefer we contact you?</label
                >
                <div class="form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="callMe"
                    value="Call me"
                    v-model="formData.contactPreference"
                  />
                  <label class="form-check-label" for="callMe">Call me</label>
                </div>
                <div class="form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="whatsappMe"
                    value="Whatsapp me"
                    v-model="formData.contactPreference"
                  />
                  <label class="form-check-label" for="whatsappMe"
                    >Whatsapp me</label
                  >
                </div>
                <div class="form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="emailMe"
                    value="Email me"
                    v-model="formData.contactPreference"
                  />
                  <label class="form-check-label" for="emailMe">Email me</label>
                </div>
              </div>

              <!-- Date Picker -->
              <div class="mb-3">
                <label for="contactDate" class="form-label"
                  >When do we contact you?</label
                >
                <input
                  type="date"
                  v-model="formData.contactDate"
                  class="form-control"
                  id="contactDate"
                  required
                />
              </div>

              <button type="submit" class="btn btn-primary rounded-full">
                Submit
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>
<script>
export default {
  data() {
    return {
      formData: {
        name: "",
        email: "",
        phone: "",
        contactPreference: [],
        contactDate: "",
        currentPage: null,
      },
      buttonLoading: false,
      loading: false,
    };
  },
  created() {
    this.getcountries();
  },
  mounted() {
    // Get the current page name when the component is mounted
    this.formData.currentPage = this.getPageName();
  },
  methods: {
    getPageName() {
      // Get the pathname from the window.location object
      const pathname = window.location.pathname;

      // Extract the last segment of the pathname as the page name
      const segments = pathname.split("/");
      const lastSegment = segments[segments.length - 1];

      return lastSegment;
    },
    getcountries() {
      axios
        .get("/ajax/countries")
        .then((response) => {
          this.countries = response.data;
        })
        .catch((err) => {
          Toast.fire({
            icon: "error",
            title: err,
          });
        });
    },
    submitForm() {
      this.buttonLoading = true;

      this.$recaptcha("travelquote").then((token) => {
        if (token) {
          axios
            .post("/quotations/submit-form", this.formData)
            .then((response) => {
              Toast.fire({
                icon: "success",
                title: response.data.message,
              });
              this.buttonLoading = false;
              window.location.href = "/";
            })
            .catch((err) => {
              Toast.fire({
                icon: "error",
                title: err,
              });
            });
        } else {
          Toast.fire({
            icon: "warning",
            title: "there was a problem, try again later",
          });
        }
      });
    },
  },
};
</script>
